
{% extends 'base/base.html' %}
{% load static %}
{% block title %}Proyectos{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'app/css/proyectos.css' %}" />
<link rel="stylesheet" href="{% static 'app/css/tableheader.css' %}">

<div class="content-area px-4 sm:px-6 lg:px-8">
  <div class="table-header">
      <button id="addnew" data-endpoint="project">
          <i class="fas fa-plus"></i> Agregar Nuevo Proyecto
      </button>
  </div>
  <div class="projects-container">
    {% for proyecto in project %}
      <article class="project-card" id="row-{{ proyecto.id }}">
        <div class="project-image">
            {% if proyecto.image %}
                <img src="{{ proyecto.image.url }}" alt="{{ proyecto.title }}" />
            {% else %}
                <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=250&fit=crop&crop=center" alt="Imagen por defecto" />
            {% endif %}
        </div>

        <div class="project-content">
          <div class="project-header">
            <h3 class="project-title">{{ proyecto.title }}</h3>
            <span class="project-year">
              <svg xmlns="http://www.w3.org/2000/svg" class="calendar-icon" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              2024
            </span>
          </div>
          <p class="project-description">
            {{ proyecto.description }}
          </p>
          <div class="project-tags">
            {% for lang in proyecto.lenguajes%}
            <span class="project-tag">{{ lang }}</span>
            {% endfor %}
          </div>
          <div class="project-buttons">
            <a href="{% url 'project_update' proyecto.id %}" class="btn btn-demo">
              <svg xmlns="http://www.w3.org/2000/svg" class="btn-icon" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                <polyline points="15,3 21,3 21,9"/>
                <line x1="10" y1="14" x2="21" y2="3"/>
              </svg>
              Actualizar
            </a>
            <a href="" class="delete-btn action-btn btn-code" 
            data-id="{{ proyecto.id }}" 
            data-endpoint="project" 
            id="row-{{ proyecto.id }}">
              <svg xmlns="http://www.w3.org/2000/svg" class="btn-icon" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                <polyline points="16 18 22 12 16 6"/>
                <polyline points="8 6 2 12 8 18"/>
              </svg>
              Eliminar
            </a>
          </div>
        </div>
      </article>
      {% endfor %}
  </div>
</div>
<script type="module" src="{% static 'app/js/delete.js' %}"></script>
{% endblock %}